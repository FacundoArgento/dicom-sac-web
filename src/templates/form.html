{% extends './layout.html' %}

{% block title %} Formulario {% endblock %}

{% block body%}
    <h2 class="my-4">Dicom Uploaad</h2>
    <hr class="my-4">
    <form class="needs-validation" action="#">
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="institutions" class="form-label">Institución</label>
            <select class="form-select" name="institutions" required>
              <option value="" disabled selected>Seleccione una opción</option>
              {% for institution in institutions %}
              <option value="{{institution.id}}">{{institution.name}}</option>
              {% endfor %}
            </select>
            <div class="invalid-feedback">
              Debe seleccionar la institucion a la que pertenece.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Operador</label>
            <span class="input-group-text"> {{ current_user.operator_name  }}</span>
          </div>

          <div class="col-sm-6">
            <label for="tipo-estudio" class="form-label">Tipo de estudio</label>
            <select class="form-select" id="tipo-estudio" name="tipo-estudio" required>
              <option value="" disabled selected>Seleccione una opción</option>
              <option value="RM">RM</option>
              <option value="RM Contraste"> RM Contraste</option>
              <option value="Otro">Otro</option>
            </select>
            <div class="invalid-feedback">
              Debe seleccionar el tipo de estudio.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="tipo-diagnostico" class="form-label">Tipo de Diagnostico</label>
            <select class="form-select" id="tipo-diagnostico" name="tipo-diagnostico" required>
              <option value="" disabled selected>Seleccione una opción</option>
              <option value="Patologico">Patológico</option>
              <option value="No Patologico"> No Patológico</option>
            </select>
            <div class="invalid-feedback">
              Debe seleccionar el tipo de diagnostico sobre el estudio a subir.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="equipo" class="form-label">Equipo (Marca/Modelo)</label>
            <input type="text" class="form-control" id="equipo" name="equipo">
            <div class="invalid-feedback">
              Debe indicar Marca/Modelo del equipo.
            </div>
          </div>

          <div class="col-12">
            <label for="username" class="form-label">Seleccione la carpeta que contiene el Estudio Completo</label>
            <input type="file" class="form-control" id="dicom-folder" name="dicom-folder" webkitdirectory="true" directory required>
            <div class="invalid-feedback">
                Debe ingresar la carpeta con el estudio completo a subir.
            </div>
          </div>
        </div>

        <hr class="my-4">
        <button class="w-2 btn btn-primary btn-lg" type="submit">Subir Estudio</button>
        
    </form>
{% endblock %}